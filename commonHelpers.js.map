{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n//import { refs } from './pixabay-api';\n\nfunction handleFormSubmit(event) { //Функция для обработки события отправки формы\n    event.preventDefault();\n    const apiKey = '42334631-07f239856d3b6a49db441bfb9';\n    const searchPicture = document.getElementById(\"searchRequest\").value.trim();\n\n    if (searchPicture === \"\") {\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Please enter a search query.'\n        });\n        return false; // Предотвращение отправки формы\n    }\n    // Формирование параметров запроса для API Pixabay\n    const params = new URLSearchParams({\n        key: apiKey,\n        q: searchPicture,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    });\n\n    fetch(`https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(searchPicture)}${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Failed to fetch images');\n            }\n            return response.json();\n        })\n\n        .then(data => {\n            const gallery = document.getElementById('gallery');\n            gallery.innerHTML = '';\n            if (data.hits.length === 0) {\n                iziToast.info({\n                    title: 'Info',\n                    message: 'Sorry, there are no images matching your search query. Please try again!'\n                });\n            } else {\n                data.hits.forEach(image => {\n                    gallery.innerHTML += `<a href=\"${image.largeImageURL}\"><img src=\"${image.previewURL}\" alt=\"${image.tags}\"></a>`;\n                });\n                new SimpleLightbox('.gallery a');\n\n            }\n        })\n        .catch(error => {\n            console.error('Error fetching images:', error);\n            iziToast.error({\n                title: 'Error',\n                message: 'Failed to fetch images. Please try again later.'\n            });\n        });\n    return false; // чтобы форма не отправлялась после отправки запроса\n}\n\nconst form = document.getElementById('searchForm');\nform.addEventListener('submit', handleFormSubmit);"],"names":["handleFormSubmit","event","apiKey","searchPicture","iziToast","params","response","data","gallery","image","SimpleLightbox","error","form"],"mappings":"wvBAMA,SAASA,EAAiBC,EAAO,CAC7BA,EAAM,eAAc,EACpB,MAAMC,EAAS,qCACTC,EAAgB,SAAS,eAAe,eAAe,EAAE,MAAM,OAErE,GAAIA,IAAkB,GAClB,OAAAC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,8BACrB,CAAS,EACM,GAGX,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,aAAM,gCAAgCD,CAAM,MAAM,mBAAmBC,CAAa,CAAC,GAAGE,CAAM,EAAE,EACzF,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAE5C,OAAOA,EAAS,MAC5B,CAAS,EAEA,KAAKC,GAAQ,CACV,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,GAChBD,EAAK,KAAK,SAAW,EACrBH,EAAS,KAAK,CACV,MAAO,OACP,QAAS,0EAC7B,CAAiB,GAEDG,EAAK,KAAK,QAAQE,GAAS,CACvBD,EAAQ,WAAa,YAAYC,EAAM,aAAa,eAAeA,EAAM,UAAU,UAAUA,EAAM,IAAI,QAC3H,CAAiB,EACD,IAAIC,EAAe,YAAY,EAG/C,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CP,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iDACzB,CAAa,CACb,CAAS,EACE,EACX,CAEA,MAAMQ,EAAO,SAAS,eAAe,YAAY,EACjDA,EAAK,iBAAiB,SAAUZ,CAAgB"}